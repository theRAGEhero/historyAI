<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Open Historical Map with Wikipedia</title>
    <link rel="stylesheet" href="styles.css">
    <script src="script.js" defer></script>
    <!-- Matomo -->
    <script>
      var _paq = window._paq = window._paq || [];
      /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//matomo.9minuti.it/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '6']);
        var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    <!-- End Matomo Code -->
</head>
<body>
    <div class="topbar">
        <button id="year-minus-100">&lt;&lt;</button>
        <button id="year-minus-10">&lt;</button>
        <form id="year-form" style="display: inline;">
            <input type="number" id="year-input" value="1924" style="width: 80px;">
        </form>
        <button id="year-plus-10">&gt;</button>
        <button id="year-plus-100">&gt;&gt;</button>
        <span id="year-indicator" style="margin-left: auto; font-weight: bold;">Year: 1924</span>
        <button id="help-button" class="help-button">Help</button>
    </div>
    <div id="help-popup" class="help-popup">
        <div class="help-popup-content">
            <span id="help-close" class="help-close">&times;</span>
            <h2>Help</h2>
            <p>Welcome to Globstory!</p>
            <p>Globstory is an interactive platform designed to bring history to life. With a combination of maps, timelines, and links to historical content, you can explore the events of the past in a dynamic and engaging way.</p>
            <h3>How It Works:</h3>
            <ul>
                <li><strong>Interactive Map and Timeline:</strong>
                    <ul>
                        <li>Hover your cursor over a nation or city mentioned in linked articles (e.g., Wikipedia), and the map automatically centers on those coordinates.</li>
                        <li>Hover over a year on the timeline, and the map updates to reflect the geopolitical boundaries or significant events of that specific time.</li>
                    </ul>
                </li>
                <li><strong>Link Integration:</strong>
                    <ul>
                        <li>Insert a URL (like a Wikipedia page) to dive deeper into historical topics. The platform syncs with the content to highlight relevant places and dates.</li>
                    </ul>
                </li>
                <li><strong>Dynamic Exploration:</strong>
                    <ul>
                        <li>Navigate between historical locations and eras in a seamless way. Every interaction updates the visual representation, helping you to contextualize events both geographically and temporally.</li>
                    </ul>
                </li>
            </ul>
            <h3>Future Features:</h3>
            <p>Globstory is a work in progress, and we’re excited to expand its functionality! Here are some upcoming features you can look forward to:</p>
            <ul>
                <li>More interactive layers (e.g., trade routes, migrations, or battle zones).</li>
                <li>The ability to customize and save your own historical maps and timelines.</li>
                <li>Integration with multimedia content such as videos or primary source documents.</li>
            </ul>
            <p>Feel free to explore and let us know your suggestions—we’d love to hear your feedback to make this platform even better! <a href="https://docs.google.com/forms/d/e/1FAIpQLSccUsR4Rg2ETUKf92oZ1vQTlcPLMLtLvFFDvxKHeXdDWvkW-w/viewform?usp=sharing" target="_blank">Submit your feedback here</a>.</p>
        </div>
    </div>
    <div class="container">
        <div class="resizable-container">
            <div id="map-container">
                <iframe 
                    width="425" 
                    height="350" 
                    frameborder="0" 
                    scrolling="no" 
                    marginheight="0" 
                    marginwidth="0" 
                    src="https://embed.openhistoricalmap.org/#map=0/43.021/7.471&layers=O&date=2024-12-08" 
                    style="border: 1px solid black; width: 100%; height: 100%;">
                </iframe>
                <br/>
                <small>
                    <a href="https://www.openhistoricalmap.org/#map=6/43.021/7.471&amp;layers=O&amp;date=1924-12-08&amp;daterange=1824-01-01,2024-12-31">
                        View Larger Map
                    </a>
                </small>
            </div>
            <div class="slider" id="slider"></div>
            <div class="sidebar">
            <form id="wiki-form">
                <label for="wiki-link">Wikipedia Link:</label>
                <input type="text" id="wiki-link" placeholder="Enter Wikipedia link" required>
                <button type="submit">OK</button>
            </form>
            <div id="wiki-content"></div>
        </div>
    </div>
    <div class="bottombar">
        <!-- Add any content for the bottom bar here -->
    </div>
</body>
</html>
